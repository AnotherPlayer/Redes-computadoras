\documentclass{article}
\usepackage{geometry}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{ragged2e}
\usepackage{listings}
\usepackage{xcolor}

\lstset{
    language=C, basicstyle=\ttfamily\small, keywordstyle=\color{blue},
    stringstyle=\color{red}, commentstyle=\color{gray}, frame=single,
    breaklines=true, showstringspaces=false
}

\begin{document}

\begin{titlepage}

    \flushleft
    \includegraphics[width=0.3\textwidth]{escom.png} 
    \vspace{2cm}\\
    {\bfseries\LARGE Escuelas Supeior de Cómputo \\}
    \vspace{3cm}
    {\scshape\Huge Práctica 2 \\ Apertura y envío de datos a través de un socket no orientados a conexión (UDP)\\}
    \vspace{3cm}
    {\itshape\Large Redes de computadora \\}
    \vfill
    {\Large Autor: \\}
    {\Large Héctor David González Tetuán \\}
    \vfill
    {\Large 04/11/2025 \\}

\end{titlepage}

\newpage

\section*{Código del programa en C}
\textit{Código para abrir un socket UDP.}
\begin{lstlisting}

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>

int main() {
    int udp_socket, lbind, tam;
    struct sockaddr_in local, remota;
    unsigned char msj[100] = "Red, soy Tetuan";

    udp_socket = socket(AF_INET, SOCK_DGRAM, 0);

    if (udp_socket == -1) {
        perror("Error al abrir el socket");
        exit(EXIT_FAILURE);
    }

    else{

        perror("Exito al abrir el socket");
    
        local.sin_family = AF_INET;
        local.sin_port = htons(0);
        local.sin_addr.s_addr = INADDR_ANY;

        lbind = bind(udp_socket, (struct sockaddr *)&local, sizeof(local));

        if (lbind == -1) {
            perror("Error en bind");
            exit(0);
        }

        else{

            perror("Exito en bind");

            remota.sin_family = AF_INET;
            remota.sin_port = htons(53); // Puerto DNS
            remota.sin_addr.s_addr = inet_addr("8.8.8.8");

            tam = sendto(udp_socket, msj, 20, 0, (struct sockaddr *)&remota, sizeof(remota));

            
            if (tam == -1) {
                perror("Error al enviar");
                exit(0);
            }

            else
                perror("Exito al enviar");

        }

    }
                

    close(udp_socket);
    return 0;

}

\end{lstlisting}
\newpage

\section*{Capturas de pantalla}
\textit{Captuas donde se muestra que abrió un socket UDP}
\begin{lstlisting}
\end{lstlisting}
\newpage

\section*{Código del programa en C}
\textit{Código para enviar un mensaje a través de un socket UDP}
\newpage

\section*{Capturas de pantalla}
\textit{donde se muestra que envío un mensaje a través de in socket UDP}
\newpage

\section*{Capturas de pantalla}
\textit{Capturas donde se muestra que configuro el analizador de protocolos wireshark
y se muestra que captura la trama enviada}
\newpage


\section*{Conclusión}



\end{document}